% Complicated example
\documentclass{ucdthesis}
% Packages used
\usepackage{xcolor} % include color
\usepackage[all]{hypcap} % Fixes hyperref links at end of captions
\usepackage{graphics} % Generic graphics package
\usepackage{pgfplots} % Supprt plotting (also includes tikz)
\usepackage{amsmath} % Provide ams math symbols and commands
\usepackage{multicol} % Pretty multiple columns
\usepackage{makeidx} % Indexing
\usepackage{braket} % Bra-ket commands used in physics
\usepackage{cancel} % Cancel command used in math
\usepackage{dcolumn} % decimal point alignment in tables
\usepackage{natbib}
\usepackage{ifthen} % Used to create standalone abstract
\usepackage{lipsum} % Package to produce lipsum text. You may safely delete this line once you remove the \lipsum commands
% you can run the command
% $ find . -exec grep -H lipsum '{}' \;
% to see which files are using the lipsum command
\DeclareGraphicsExtensions{.pdf,.png,.jpg,.jpeg,.mps}
%% User Defined Area: all values are required
\author{Theresa Abernathy Green}
\title{The Title}
\degreename{Doctor of Philosophy}
\degreeyear{2010}
\degreemonth{September}
\degreesemester{Summer}
\previousdegree{B.S.}{California Polytechnic State University}{San Luis Obispo}{2004}
\previousdegree{M.S.}{University of California}{Davis}{2006}
\chair{Professor Nicholas K Wilder}
\othermember{Professor John T Alexander}
\othermember{Professor Shirabe Shimura}
\field{Physics}
\campus{Davis}
%% End User Defined Area
% This enables the use of "jobname" to create a standalone abstract:
%   $ latexmk -pdf thesis.tex
% then, 
%   $ latexmk -pdf -jobname=abstract-standalone thesis.tex
\ifthenelse{\equal{\detokenize{abstract-standalone}}{\jobname}}{
  \begin{document}
  \thispagestyle{empty} % Remove page numbering on first page
  \rhead{\thepage} % place page numbers in right header
  \cfoot{} % remove page numbers from center footer
  \include{abstract}
  \end{document}
}{
\pgfrealjobname{thesis} % Used for externalizing pgf figures
% This sets up hyperref and uses some of the values we already defined
\makeatletter % Process @ as letter. Required to access @title, @author and @field values
\hypersetup{
  bookmarks, % Set acrobat bookmarks
  bookmarksnumbered, % Include bookmark section numbers
  colorlinks=true, % Color the links (set to false in final)
  hyperindex, % Hyperlink to index
  hyperfootnotes, % Hyperlink to footnotes
  naturalnames, % Use TeX names in links
  breaklinks, % Fixes long caption titles on list of tables
  backref,% Bibliographical back references
  pdftitle={\@title}, % Text for PDF title field
  pdfauthor={\@author}, % Text for PDF author field
  pdfsubject={\@field}, % Text for PDF subject field
  pdfkeywords={thesis, example}, % Comma separated list of keywords (space after comma is recommended)
}
\makeatother % Process @ as other
% Main Document
\makeindex
\begin{document}
\begin{frontmatter}
  \maketitle
  \include{abstract}
  \include{dedication}
  \tableofcontents
  \listoffigures
  \listoftables
\end{frontmatter}
\begin{mainmatter}
  \include{introduction}
  %% Include extra chapters here.
  \include{body}
  \include{conclusion}
  \appendix
  \include{appendix1}
  \include{appendix2}
\end{mainmatter}
\begin{backmatter}
  % Index (optional)
  \printindex
  \bibliographystyle{ucdthesis}
  \bibliography{all}
\end{backmatter}
\end{document}
}
